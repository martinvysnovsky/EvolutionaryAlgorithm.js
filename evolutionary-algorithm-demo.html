<!DOCTYPE html>
<html lang="en">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta name="author" content="Martin Vyšňovský (martinvysnovsky@gmail.com)">
	<title>Evolutionary algorithm</title>
</head>
<body>

<script src="./ea.js"></script>
<script>
	// measure time taken by algorithm
	var start = new Date().getTime();

	var fitness_function = function(item) {
		return 2 * Math.sin(item.x) + 2;
	};

	// initialize algorithm;
	// first argument is array of names of variables used
	// second argument is interval of this values [min, max]
	var ea = new EA(['x', 'y', 'z', 'm', 'n', 'p'], [-1, 1]);

	// initialize population
	// allowed methods: random
	var population = ea.initializePopulation('random', 500);

	// compute fitness for all candidates in population
	population.computeFitness(fitness_function);

	// select parents from population
	// allowed methods: random, best, roulette (rouletteMethod: with_replacement, without_replacement, remainder_with_replacement, remainder_without_replacement, univerzal)
	var parents = population.getParents('roulette', 20, {rouletteMethod: 'univerzal', shuffleOrder: true});
	
	// apply genetic operators to population
	// allowed methods: uniform_mutation (number_of_mutated_values), ...
	population.applyGeneticOperators(parents, 'uniform_mutation');

	// print out parents
	for(var i=0, len=parents.length; i<len; i++)
	{
		document.write(i+1 + ": " + parents[i].toString() + "<br>");
	}

	var end = new Date().getTime();
	var time = end - start;
	document.write('Execution time: ' + time + 'ms');
</script>
</body>
</html>